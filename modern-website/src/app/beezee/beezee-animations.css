/**
 * BeeZee Prismatic Ledger - Animation System
 * "Kinetic Ledgering" - Snappy, mechanical animations for fluid financial orchestration
 */

:root {
    /* BeeZee Brand Colors */
    --beezee-mint: #00F2B8;
    --beezee-mint-glow: rgba(0, 242, 184, 0.15);
    --beezee-mint-bright: #00FFD0;
    --electric-slate: #1A1C1E;
    --electric-slate-light: #2A2C2E;
    --glass-tint: rgba(0, 242, 184, 0.05);

    /* Spring Physics (stiffness: 120, damping: 20) */
    /* Translated to CSS cubic-bezier approximation */
    --spring-snap: cubic-bezier(0.34, 1.2, 0.64, 1);
    --mechanical-ease: cubic-bezier(0.87, 0, 0.13, 1);
    --smooth-3d: cubic-bezier(0.45, 0, 0.55, 1);
    --magnetic-ease: cubic-bezier(0.34, 1.56, 0.64, 1);

    /* Timing */
    --duration-snap: 400ms;
    --duration-transform: 800ms;
    --duration-rotate: 1200ms;
}

/* ===========================
   KEYFRAME ANIMATIONS
   =========================== */

/* Magnetic Assembly - Data points converge */
@keyframes magnetize {
    0% {
        transform: translate(var(--start-x), var(--start-y)) scale(0.8);
        opacity: 0.6;
        filter: blur(5px);
    }

    100% {
        transform: translate(0, 0) scale(1);
        opacity: 1;
        filter: blur(0px);
    }
}

/* Ghost Advisor Pulse */
@keyframes ghost-pulse {

    0%,
    100% {
        box-shadow:
            0 0 20px var(--beezee-mint-glow),
            0 0 40px var(--beezee-mint-glow),
            inset 0 0 20px var(--beezee-mint-glow);
        opacity: 0.6;
    }

    50% {
        box-shadow:
            0 0 30px rgba(138, 43, 226, 0.4),
            0 0 60px rgba(138, 43, 226, 0.3),
            inset 0 0 30px rgba(138, 43, 226, 0.2);
        opacity: 1;
    }
}

/* Transaction Flow - Continuous upward movement */
@keyframes transaction-flow {
    0% {
        transform: translateY(100%);
        opacity: 0;
    }

    10% {
        opacity: 1;
    }

    90% {
        opacity: 1;
    }

    100% {
        transform: translateY(-100%);
        opacity: 0;
    }
}

/* Prism Rotation */
@keyframes prism-rotate {
    0% {
        transform: rotateY(0deg) rotateZ(0deg);
    }

    100% {
        transform: rotateY(360deg) rotateZ(30deg);
    }
}

/* Data Transform - Refractive shift */
@keyframes data-transform {
    0% {
        filter: blur(3px) hue-rotate(0deg);
        transform: translateX(-20px);
    }

    50% {
        filter: blur(0px) hue-rotate(180deg);
        transform: translateX(0);
    }

    100% {
        filter: blur(0px) hue-rotate(0deg);
        transform: translateX(20px);
    }
}

/* 3D Inventory Rotation */
@keyframes inventory-rotate {
    0% {
        transform: perspective(1200px) rotateY(0deg);
    }

    100% {
        transform: perspective(1200px) rotateY(90deg);
    }
}

/* Liquid Metal Deform */
@keyframes liquid-deform {

    0%,
    100% {
        border-radius: 50%;
    }

    25% {
        border-radius: 48% 52% 45% 55%;
    }

    50% {
        border-radius: 52% 48% 55% 45%;
    }

    75% {
        border-radius: 45% 55% 48% 52%;
    }
}

/* Spin Slow (BeeZee UI) */
@keyframes spin-slow {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

/* Ghost Summary Bar Text Crossfade */
@keyframes text-crossfade {
    0% {
        opacity: 0;
        transform: translateY(10px);
        filter: blur(5px);
    }

    100% {
        opacity: 1;
        transform: translateY(0);
        filter: blur(0px);
    }
}

/* Lens Magnification */
@keyframes lens-magnify {
    0% {
        transform: scale(1);
    }

    100% {
        transform: scale(1.15);
    }
}

/* ===========================
   UTILITY CLASSES
   =========================== */

/* Refractive Glass Material */
.glass-refractive {
    background: linear-gradient(135deg,
            rgba(255, 255, 255, 0.1) 0%,
            rgba(255, 255, 255, 0.05) 50%,
            rgba(0, 242, 184, 0.03) 100%);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.18);
    box-shadow:
        0 8px 32px rgba(0, 0, 0, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.glass-refractive-mint {
    background: linear-gradient(135deg,
            rgba(0, 242, 184, 0.08) 0%,
            rgba(0, 242, 184, 0.03) 50%,
            rgba(255, 255, 255, 0.05) 100%);
    backdrop-filter: blur(25px) saturate(200%);
    -webkit-backdrop-filter: blur(25px) saturate(200%);
    border: 1px solid rgba(0, 242, 184, 0.2);
    box-shadow:
        0 8px 32px rgba(0, 242, 184, 0.15),
        inset 0 1px 0 rgba(0, 242, 184, 0.3);
}

/* Spring Animation Utilities */
.spring-enter {
    animation: magnetize var(--duration-snap) var(--spring-snap) forwards;
}

.mechanical-transition {
    transition: all var(--duration-snap) var(--mechanical-ease);
}

.smooth-3d-transition {
    transition: transform var(--duration-rotate) var(--smooth-3d);
}

/* Magnetic Assembly */
.magnetic-assembly {
    animation: magnetize 1.2s var(--magnetic-ease) forwards;
}

/* Ghost Pulse */
.ghost-advisor-glow {
    animation: ghost-pulse 3s ease-in-out infinite;
}

/* Transaction Flow */
.transaction-stream-item {
    animation: transaction-flow 8s linear infinite;
}

/* Prism Active */
.prism-active {
    animation: prism-rotate 10s linear infinite;
}

/* Spin Slow Utility */
.animate-spin-slow {
    animation: spin-slow 8s linear infinite;
}

/* ===========================
   3D TRANSFORM UTILITIES
   =========================== */

.preserve-3d {
    transform-style: preserve-3d;
    perspective: 1200px;
}

.inventory-tile {
    backface-visibility: hidden;
    transform-style: preserve-3d;
}

.inventory-tile-front {
    position: absolute;
    inset: 0;
    backface-visibility: hidden;
}

.inventory-tile-back {
    position: absolute;
    inset: 0;
    backface-visibility: hidden;
    transform: rotateY(180deg);
}

/* ===========================
   LENS HOVER EFFECT
   =========================== */

.feature-card-lens {
    position: relative;
    overflow: hidden;
}

.feature-card-lens::before {
    content: '';
    position: absolute;
    width: 200px;
    height: 200px;
    background: radial-gradient(circle,
            rgba(0, 242, 184, 0.25) 0%,
            rgba(0, 242, 184, 0.1) 40%,
            transparent 70%);
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
    transform: translate(var(--mouse-x, -50%), var(--mouse-y, -50%)) translate(-50%, -50%);
}

.feature-card-lens:hover::before {
    opacity: 1;
}

.feature-card-lens .data-point {
    transition: transform 0.3s var(--magnetic-ease);
}

.feature-card-lens:hover .data-point {
    transform: scale(1.15);
}

/* ===========================
   MOBILE OPTIMIZATIONS
   =========================== */

@media (max-width: 768px) {

    .glass-refractive,
    .glass-refractive-mint {
        backdrop-filter: blur(10px) saturate(150%);
        -webkit-backdrop-filter: blur(10px) saturate(150%);
    }

    :root {
        --duration-snap: 300ms;
        --duration-transform: 600ms;
        --duration-rotate: 900ms;
    }
}

@media (max-width: 480px) {

    .glass-refractive,
    .glass-refractive-mint {
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
        background: rgba(255, 255, 255, 0.9);
    }

    .preserve-3d {
        perspective: none;
    }
}

/* ===========================
   ACCESSIBILITY
   =========================== */

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    .glass-refractive::before,
    .glass-refractive-mint::before,
    .feature-card-lens::before {
        display: none;
    }
}